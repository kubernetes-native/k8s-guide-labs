apiVersion: v1
kind: Namespace
metadata:
  name: cilium
---
apiVersion: helm.fluxcd.io/v1
kind: HelmRelease
metadata:
  name: cilium
  namespace: cilium 
spec:
  releaseName: cilium
  targetNamespace: cilium
  chart:
    repository: https://helm.cilium.io/
    name: cilium
    version: 1.9.1
  values: # as per the https://docs.cilium.io/en/v1.9/gettingstarted/kind/
    nodeinit:
      enabled: true
    kubeProxyReplacement: partial
    hostServices:
      enabled: false
    externalIPs:
      enabled: true
    nodePort:
      enabled: true
    installIptablesRules: false
    l7Proxy: false
    hostPort:
      enabled: true
    bpf:
      masquerade: false
